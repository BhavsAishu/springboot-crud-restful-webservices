pipeline {
 
       agent any

        stages {
        
           stage ("git checkout") {
           
              steps {
                 
                 git branch : 'master' , url:'https://github.com/BhavsAishu/springboot-crud-restful-webservices.git'
              
              
              
              }
           
           
           }

           stage ("sonar quality check") {
           
                 agent {
                    docker {
                      
                       image 'maven'
                    
                    }
                 }
              steps {
                 
                 script {
                    
                    withCredentials([string(credentialsId: 'jenkins-sonar', variable: 'jenkins-sonar')]) {

                       sh 'mvn clean package sonar:sonar'
   
                    }
                 
                 }
              
              
              
              }
           
           
           }
        
        
        }


}